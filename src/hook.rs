/*
============================================================================
システムフック統合管理モジュール (hook.rs)
============================================================================

【ファイル概要】
システム全体のマウスとキーボードの低レベルフック (`WH_MOUSE_LL`, `WH_KEYBOARD_LL`) の
インストールとアンインストールを統合的に管理するファサードモジュールです。
各モード（エリア選択、キャプチャ）の開始時と終了時に、フックのセットアップと
クリーンアップを簡単かつ確実に行うための統一されたインターフェースを提供します。

【主要機能】
1.  **統合フックインストール (`install_hooks`)**:
    -   `keyboard::install_keyboard_hook()` と `mouse::install_mouse_hook()` を一度に呼び出します。
2.  **統合フックアンインストール (`uninstall_hooks`)**:
    -   `keyboard::uninstall_keyboard_hook()` と `mouse::uninstall_mouse_hook()` を一度に呼び出し、リソースを解放します。

【設計意図】
-   **関心の分離**: フックのインストール/アンインストールの呼び出しをこのモジュールに集約することで、呼び出し元のコード（例: `area_select.rs`）をシンプルに保ちます。
-   **保守性の向上**: 将来的に新しい種類のフックが追加された場合でも、変更はこのモジュール内に限定され、呼び出し元への影響を最小限に抑えることができます。

【AI解析用：依存関係】
-   `hook/keyboard.rs`: キーボードフックの実装。
-   `hook/mouse.rs`: マウスフックの実装。
-   `area_select.rs`, `screen_capture.rs`: モードの開始/終了時にこのモジュールの関数を呼び出す。

*/

pub mod keyboard;
pub mod mouse;

/// マウスフックとキーボードフックの両方をインストールする
///
/// システム全体のマウスイベントとキーボードイベントの監視を開始します。
/// エリア選択モードやキャプチャモードの開始時に呼び出されます。
pub fn install_hooks() {
    keyboard::install_keyboard_hook();
    mouse::install_mouse_hook();
}

/// マウスフックとキーボードフックの両方をアンインストールする
///
/// システム全体のマウスイベントとキーボードイベントの監視を停止し、
/// 関連するシステムリソースを解放します。
/// モードの終了時やアプリケーションのクリーンアップ時に呼び出されます。
pub fn uninstall_hooks() {
    keyboard::uninstall_keyboard_hook();
    mouse::uninstall_mouse_hook();
}
